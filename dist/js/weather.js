var weather=angular.module("ssweather",[]);weather.controller("weatherController",["$scope","$http",function(e,t){e.tips=[],e.city="上海",e.temperature="12",e.getWeatherNow=function(n){var r="https://api.thinkpage.cn/v2/weather/now.json?language=zh-chs&unit=c&key=STUQDFMKSP&city=";r+=n,e.city=n,t({method:"JSONP",url:r}).then(function(t){console.log(t),e.temperature=data.now.temperature},function(e){console.log("get weather now error:"+e)})},function(){var t=document.querySelector(".where"),n=document.querySelector(".for-location"),r=0;EventUtil.addHandler(t,"input",function(){var o=new RegExp("^"+t.value+".*$","im");e.tips=[],r=0;for(var a=0;a<citys.length&&!(r>2);a++)o.test(citys[a][0])&&(e.tips.push(citys[a][0]),r++);n.innerHTML="";for(var a=0;a<e.tips.length;a++){var i=document.createElement("li");i.innerHTML=e.tips[a],EventUtil.addHandler(i,"click",function(t){e.getWeatherNow(t.target.innerHTML)}),n.appendChild(i)}})}()}]);