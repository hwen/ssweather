var weather=angular.module("ssweather",[]);weather.controller("weatherController",["$scope","$http",function(e,t){e.tips=[],e.city="上海",e.temperature="12",e.getWeatherNow=function(n){var r="https://api.thinkpage.cn/v2/weather/now.json?language=zh-chs&unit=c&key=STUQDFMKSP&city=";r+=n,e.city=n,t({method:"GET",url:r}).then(function(t){var n=t.data.weather;console.log(n[0].now.temperature),e.temperature=n[0].now.temperature},function(e){console.log("get weather now error:"+e)})},function(){var t=document.querySelector(".where"),n=document.querySelector(".for-location"),r=0;EventUtil.addHandler(t,"input",function(){var a=new RegExp("^"+t.value+".*$","im");e.tips=[],r=0;for(var o=0;o<citys.length&&!(r>2);o++)a.test(citys[o][0])&&(e.tips.push(citys[o][0]),r++);n.innerHTML="";for(var o=0;o<e.tips.length;o++){var i=document.createElement("li");i.innerHTML=e.tips[o],EventUtil.addHandler(i,"click",function(t){e.getWeatherNow(t.target.innerHTML)}),n.appendChild(i)}})}()}]);