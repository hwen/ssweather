var weather=angular.module("ssweather",[]);weather.controller("weatherController",["$scope","$http",function(e,t){e.tips=[],e.city="上海",e.temperature="12",e.getWeatherNow=function(n){var r="https://api.thinkpage.cn/v2/weather/now.json?language=zh-chs&unit=c&key=STUQDFMKSP&city=";r+=n,e.city=n,t({method:"GET",url:r}).then(function(t){var n=t.data.weather;console.log(n[0].now.temperature),e.temperature=n[0].now.temperature},function(e){console.log("get weather now error:"+e)})},e.hideAsk=function(){var e=document.querySelector(".contact-bar"),t=document.querySelector(".askLocation"),n=document.querySelector(".for-location"),r=document.querySelector(".where");e.style.display="",t.style.display="none",n.innerHTML="",r.value=""},function(){var t=document.querySelector(".where"),n=document.querySelector(".for-location"),r=0;EventUtil.addHandler(t,"input",function(){var o=new RegExp("^"+t.value+".*$","im");e.tips=[],r=0;for(var a=0;a<citys.length&&!(r>2);a++)o.test(citys[a][0])&&(e.tips.push(citys[a][0]),r++);n.innerHTML="";for(var a=0;a<e.tips.length;a++){var c=document.createElement("li");c.innerHTML=e.tips[a],EventUtil.addHandler(c,"click",function(t){e.getWeatherNow(t.target.innerHTML),e.hideAsk()}),n.appendChild(c)}})}()}]);